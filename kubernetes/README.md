# Machine Learning in Production Course: Homework 3
Maintainer: [Ruslan Akhmerov](https://data.mail.ru/profile/r.akhmerov/)

Status: 99.9% ready for PR üòÖ

## Project Roadmap

- [X] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ kubectl

- [X] –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ kubernetes  
    –í—ã –º–æ–∂–µ—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ –≤ –æ–±–ª–∞–∫–µ:
    - [ ] https://cloud.google.com/kubernetes-engine
    - [ ] https://mcs.mail.ru/containers/
    - [X] https://cloud.yandex.ru/services/managed-kubernetes
    –õ–∏–±–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ–π –∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏–µ–π
    - [ ] https://kind.sigs.k8s.io/docs/user/quick-start/
    - [ ] https://minikube.sigs.k8s.io/docs/start/
    –ù–∞–ø–∏—à–∏—Ç–µ, –∫–∞–∫–æ–π —Å–ø–æ—Å–æ–± –≤—ã –∏–∑–±—Ä–∞–ª–∏.
- [X] –£–±–µ–¥–∏—Ç–µ—Å—å, —Å –∫–ª–∞—Å—Ç–µ—Ä –ø–æ–¥–Ω—è–ª—Å—è (kubectl cluster-info) 
(5 –±–∞–ª–ª–æ–≤)

- [X] –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ—Å—Ç–æ–π pod manifests –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ online-inference-pod.yaml (https://kubernetes.io/docs/concepts/workloads/pods/)
    - [X] –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–ª–∞—Å—Ç–µ—Ä (kubectl apply -f online-inference-pod.yaml), —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–æ–¥–Ω—è–ª–æ—Å—å (kubectl get pods)
    - [X] –ü—Ä–∏–ª–æ–∂–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç, –≥–¥–µ –≤–∏–¥–Ω–æ, —á—Ç–æ –≤—Å–µ –ø–æ–¥–Ω—è–ª–æ—Å—å
(4 –±–∞–ª–ª–∞)

- [X] –ü—Ä–æ–ø–∏—à–∏—Ç–µ requests/limits –∏ –Ω–∞–ø–∏—à–∏—Ç–µ –∑–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ –≤ –æ–ø–∏—Å–∞–Ω–∏–µ PR
    - [X] –∑–∞–∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª online-inference-pod-resources.yaml
(2 –±–∞–ª–ª–∞)

- [X] –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ —Å–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–æ —Å—Ç–∞—Ä—Ç–æ–≤–∞–ª–æ –Ω–µ —Å—Ä–∞–∑—É(—Å –∑–∞–¥–µ—Ä–∂–∫–æ–π —Å–µ–∫—É–Ω–¥ 20-30) –∏ –ø–∞–¥–∞–ª–æ —Å–ø—É—Å—Ç—è –º–∏–Ω—É—Ç—ã —Ä–∞–±–æ—Ç—ã. 
–î–æ–±–∞–≤—å—Ç–µ liveness –∏ readiness –ø—Ä–æ–±—ã , –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —á—Ç–æ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å.
–ù–∞–ø–∏—à–∏—Ç–µ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ -- —á–µ–≥–æ –≤—ã —ç—Ç–∏–º –¥–æ–±–∏–ª–∏—Å—å.
–ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∞–Ω–∏—Ñ–µ—Å—Ç online-inference-pod-probes.yaml (–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
    - [X] –û–ø—É–±–ª–∏–∫—É–π—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ(–∏–∑ –î–ó 2) —Å —Ç—ç–≥–æ–º v2
(3 –±–∞–ª–ª–∞)

- [X] –°–æ–∑–¥–∞–π—Ç–µ replicaset, —Å–¥–µ–ª–∞–π—Ç–µ 3 —Ä–µ–ø–ª–∏–∫–∏ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. (https://kubernetes.io/docs/concepts/workloads/controllers/replicaset/)
  - [X] –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å, —á—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ —Å–º–µ–Ω–∏—Ç—å –¥–æ–∫–µ—Ä –æ–±—Ä–∞–∑–∞ –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ –∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å —ç—Ç–∏–º 
    - [X] –∞) —É–º–µ–Ω—å—à–∏—Ç—å —á–∏—Å–ª–æ —Ä–µ–ø–ª–∏–∫
    - [X] –±) —É–≤–µ–ª–∏—á–∏—Ç—å —á–∏—Å–ª–æ —Ä–µ–ø–ª–∏–∫.
    - [X] –ü–æ–¥—ã —Å –∫–∞–∫–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –æ–±—Ä–∞–∑–∞ –±—É–¥—É—Ç –≤–Ω—É—Ç—Ä–∏ –±—É–¥—É—Ç –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ? 
  - [X] –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ online-inference-replicaset.yaml
(3 –±–∞–ª–ª–∞)

- [X] –û–ø–∏—à–∏—Ç–µ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.  (https://kubernetes.io/docs/concepts/workloads/controllers/deployment/)
    - [X] –ò–≥—Ä–∞—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–µ–ø–ª–æ—è(maxSurge, maxUnavaliable), –¥–æ–±–µ–π—Ç–µ—Å—å —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –ø—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏
    - [X] a) –ï—Å—Ç—å –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏, –∫–æ–≥–¥–∞ –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä–µ –µ—Å—Ç—å –∫–∞–∫ –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –ø–æ–¥—ã, —Ç–∞–∫ –∏ –≤—Å–µ –Ω–æ–≤—ã–µ (–æ–ø–∏—à–∏—Ç–µ —ç—Ç—É —Å–∏—Ç—É–∞—Ü–∏—é) (–∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å—Ç–µ —Ñ–∞–π–ª online-inference-deployment-blue-green.yaml)
    - [X] –±) –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Å –ø–æ–¥–Ω—è—Ç–∏–µ–º –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–∏, –≥–∞—Å—è—Ç—Å—è —Å—Ç–∞—Ä—ã–µ (–∑–∞–∫–æ–º–º–∏—Ç–∏—Ç–µ —Ñ–∞–π–ª online-inference-deployment-rolling-update.yaml)
(3 –±–∞–ª–ª–∞)

–ë–æ–Ω—É—Å–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
- [X] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å helm –∏ –æ—Ñ–æ—Ä–º–∏—Ç—å helm chart, –≤–∫–ª—é—á–∏—Ç—å –≤ —Å–æ—Å—Ç–∞–≤ —á–∞—Ä—Ç–∞ ConfigMap –∏ Service.
(5 –±–∞–ª–ª–æ–≤)


## –°–∞–º–æ–æ—Ü–µ–Ω–∫–∞
```
+ 0  –ó–∞ —Ç–æ, —á—Ç–æ —è –µ—Å—Ç—å
+ 5  –ü–æ–¥–Ω—è–ª –∫–ª–∞—Å—Ç–µ—Ä –∏ –æ–Ω –ø–æ–¥–Ω—è–ª—Å—è. –¢—Ä–∏–∞–ª GCP —É –º–µ–Ω—è —É–∂–µ –∏—Å—á–µ—Ä–ø–∞–Ω, –ø–æ—Ç–æ–º—É Yandex.Cloud
+ 4  –ù–∞–ø–∏—Å–∞–ª –ø—Ä–æ—Å—Ç–æ–π –º–∞–Ω–∏—Ñ–µ—Å—Ç, –≤—Å—ë –∑–∞–≤–µ–ª–æ—Å—å
+ 2  –ü—Ä–æ–ø–∏—Å–∞–ª requests/limits
+ 3  –ó–∞–ø—É—à–∏–ª —Å–ª–æ–º–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é 2 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–¥–µ–ª–∞–ª liveness/readyness –ø—Ä–æ–±—ã
+ 3  –°–¥–µ–ª–∞–ª –º–∞–Ω–∏—Ñ–µ—Å—Ç ReplicaSet
+ 3  –û–ø–∏—Å–∞–ª –¥–≤–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞
+ 5' Helm —É—Å—Ç–∞–Ω–æ–≤–∏–ª, –ø–æ–∫–æ–≤—ã—Ä—è–ª—Å—è, —Å–¥–µ–ª–∞–ª —á–∞—Ä—Ç –∏ —à–∞–±–ª–æ–Ω—ã
-------------------------------------------------------------------------------------
```
**–ò–¢–û–ì–û: 20 / 20 –±–∞–∑–æ–≤—ã—Ö –±–∞–ª–ª–æ–≤ + 5 / 5 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö =** `25 / 25 –±–∞–ª–ª–æ–≤`